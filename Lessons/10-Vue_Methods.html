<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W3 Schools Vue Tutorial</title>

    <style>
        #app div.box {
            border: dashed black 1px;
            display: block;
            padding: 10px;
            text-align: left;
            margin: 1.5rem 0;
        }

        div.flex {
            display: flex;
            /* flex-wrap: wrap; */
            /* flex-basis:3; */
        }

        div.flex .inner-box {
            background-color: beige;
            width: 100%;
            min-height: 150px;
            margin: 1rem;
            text-align: center;
        }

        div.flex .inner-box img{
            max-width: 200px;
            margin: 0 auto 0.5rem auto;
            display: block;
        }

        .break {
            flex-basis: 100%;
            height: 0;
        }

        div.box span {
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
        }

        #app > button {
            display: block;
            margin: auto;
        }

        .methodBox {
            width: 140px;
            height: 60px;
            background-color: lightgreen;
            padding: 20px;
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
        }

        .text-green {
            background-color: lightgreen;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div id="app">

        <!-- To call the 'writeText' method when we click the <div> element we can write the code below: -->
        <h2>Example 1: Click to run a method</h2>
        <div class="box">
            <p>Click on the box below:</p>
            <div class="methodBox" @click="writeText">
                {{ text }}
            </div>
        </div>

        <!-- 
            The v-on directive is used on the <div> element to listen to the 'mousemove' event. When the 'mousemove' event occurs 
            the 'mousePos' method is called and the event object is sent with the method by default so we can get the mouse pointer position.
            We must use the this. prefix to refer to "xPos" inside the Vue instance data property from the method. 
        -->
        <h2>Example 2: Mouse Pointer Position</h2>
        <div class="box">
            <p>Move the mouse pointer over the box below:</p>
            <div class="methodBox" v-on:mousemove="mousePos">
                <span>xPos: {{ xPos }}</span>
                <br>
                <span>yPos: {{ yPos }}</span>
            </div>
        </div>

        <!-- 
            If we expand the example above by just one line, we can also make the background color change based on the mouse pointer position 
            in the x-direction. The only thing we need to add is v-bind to change the background-color in the style attribute:

            The difference here from the example above is that the background color is bound to 'xPos' with v-bind so that hsl 'hue' 
            value is set equal to 'xPos'.
        -->
        <h2>Example 3: Mouse Pointer Position + Background Color Change</h2>
        <div class="box">
            <p>Move the mouse pointer over the box below:</p>
            <div class="methodBox" v-on:mousemove="mousePos" :style="{backgroundColor: 'hsl('+ xPos +', 80%, 80%)'}">
                <span>xPos: {{ xPos }}</span>
                <br>
                <span>yPos: {{ yPos }}</span>
            </div>

            <p>CSS:<br>backgroundColor:'hsl(<strong>{{xPos}}</strong>,80%,80%)'</p>
        </div>

        <!-- 
            In the example below the event object carries a text from the <textarea> tag to make it look like we are writing inside a notebook.
        -->
        <h2>Example 4: Notebook</h2>
        <div class="box">
            <textarea v-on:input="writeText2" placeholder="Start writing..."></textarea>
            <p>{{ text2 }}</p>
        </div>

        <!-- we pass the num arguments to the methods in the buttons on click -->
        <h2>Example 5: Passing Arguments with Methods</h2>
        <div class="box">
            <img src="../assets/images/img_moose.jpg" alt="moose"><br>
            <button v-on:click="addMoose(1)">+1</button>
            <button v-on:click="addMoose(-1)">-1</button>
            <button v-on:click="addMoose(5)">+5</button>
            <p>{{ 'Total Moose: ' + count }}</p>
        </div>

        <!-- example 6, passing both an Argument and the Event Object -->
        <h2>Example 6: Passing an Argument and the Event Object with a Method</h2>
        <p>In this example we see that it is possible to send both the event object and a text as an argument with a method. To do this we must use the reserved name for event methods: '$event'.</p>
        <p>Click on the tiger image:</p>
        <div class="box">
            <img src="../assets/images/img_tiger_square.jpeg" alt="Tiger" id="tiger" @click="clickTiger($event, 'Hello')">
            <p>
                Here is the message sent with the method, and the id of the img tag: <br>
                <span class="text-green">"{{ msgAndId }}"</span>
            </p>
        </div>

        <!-- example 7, larger example -->
         <h2>Example 7: Passing Arguments and Event Object with Methods</h2>
         <p>In this example we are able to count tigers, moose and kangaroos, with different increments, all buttons refering to the same method. This is possible by passing the numbers counted as an argument, and by passing the event.</p>
         <div class="box">
            <div class="flex">
                <div class="inner-box" id="tigerBox">
                    <img src="../assets/images/img_tiger_square.jpeg" alt="Tiger">
                    <button v-on:click="addAnimal($event, 1)">+1</button>
                    <button v-on:click="addAnimal($event, -1)">-1</button>
                    <button v-on:click="addAnimal($event, 5)">+5</button>
                    <p>{{ 'Total Tigers: ' + tigers }}</p>
                </div>
                <div class="inner-box" id="mooseBox">
                    <img src="../assets/images/img_moose.jpg" alt="moose" id="moose">
                    <button v-on:click="addAnimal($event, 1)">+1</button>
                    <button v-on:click="addAnimal($event, -1)">-1</button>
                    <button v-on:click="addAnimal($event, 5)">+5</button>
                    <p>{{ 'Total Moose: ' + moose }}</p>
                </div>
                <div class="inner-box" id="kangarooBox">
                    <img src="../assets/images/img_kangaroo_square.jpeg" alt="kangaroo" id="kangaroo">
                    <button v-on:click="addAnimal($event, 1)">+1</button>
                    <button v-on:click="addAnimal($event, -1)">-1</button>
                    <button v-on:click="addAnimal($event, 5)">+5</button>
                    <p>{{ 'Total Kangaroos: ' + kangaroos }}</p>
                </div>
            </div>
         </div>


    </div>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script>
        const app = Vue.createApp({
            data() {
                return {
                    text: '',
                    text2: '',
                    xPos: 0,
                    yPos: 0,
                    count: 0,
                    msgAndId: '',
                    tigers: 0,
                    moose: 0,
                    kangaroos: 0

                }
            },
            // Vue property called methods, this is where we store our functions
            methods: {
                writeText() {
                    // using this, because we are referring to this instance of vue, and it's data property variable called text
                    // Tip: We need to write this. as prefix to refer to a data property from inside a method.
                    this.text = 'Hello World!'
                },
                writeText2() {
                    this.text2 = event.target.value;
                },
                mousePos(event) {
                    this.xPos = event.offsetX;
                    this.yPos = event.offsetY;
                },
                addMoose(num) {
                    this.count+=num;
                    // same as doing:
                    //this.count = this.count + num;
                },
                clickTiger(e, msg) {
                    // this.msgAndId = msg + ', ';
                    // adds the id from the event's target to the end of the string
                    // this.msgAndId += e.target.id + '.';

                    //instead of the above we can simplify this
                    this.msgAndId = msg + ', ' + e.target.id + '.';
                },
                addAnimal(e, num) {
                    if (e.target.parentElement.id === 'tigerBox') {
                        this.tigers += num;
                    }
                    else if (e.target.parentElement.id === 'mooseBox') {
                        this.moose += num;
                    } else {
                        this.kangaroos += num;
                    }
                }
            }
        });

        app.mount('#app');
    </script>
</body>
</html>
